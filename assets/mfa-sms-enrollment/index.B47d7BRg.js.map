{"version":3,"file":"index.B47d7BRg.js","sources":["../../../src/screens/mfa-sms-enrollment/hooks/useMfaSmsEnrollmentManager.ts","../../../src/screens/mfa-sms-enrollment/index.tsx"],"sourcesContent":["import { useMemo } from \"react\";\nimport type { ScreenMembersOnMfaSmsEnrollment } from \"@auth0/auth0-acul-js\";\nimport MfaSmsEnrollment from \"@auth0/auth0-acul-js/mfa-sms-enrollment\";\nimport { executeSafely } from \"@/utils/helpers/executeSafely\";\n\nexport const useMfaSmsEnrollmentManager = () => {\n  const mfaSmsEnrollmentInstance = useMemo(() => new MfaSmsEnrollment(), []);\n  const { user, transaction, screen } = mfaSmsEnrollmentInstance;\n\n  // Get phone from user_metadata if available\n  const phoneFromMetadata = user?.userMetadata?.phone || \"\";\n\n  const handleContinueEnrollment = async (phone: string): Promise<void> => {\n    const options = {\n      phone: phone?.trim() || \"\",\n    };\n    executeSafely(\n      `Continue MFA SMS enrollment with phone: ${options.phone}`,\n      () => mfaSmsEnrollmentInstance.continueEnrollment(options)\n    );\n  };\n\n  return {\n    mfaSmsEnrollmentInstance,\n    user,\n    transaction,\n    screen,\n    phoneFromMetadata,\n    handleContinueEnrollment,\n    errors: mfaSmsEnrollmentInstance.getError(),\n    texts: (screen?.texts || {}) as ScreenMembersOnMfaSmsEnrollment[\"texts\"],\n  };\n};","import ULThemeCard from \"@/components/ULThemeCard\";\nimport ULThemePageLayout from \"@/components/ULThemePageLayout\";\nimport { useState } from \"react\";\nimport { useMfaSmsEnrollmentManager } from \"./hooks/useMfaSmsEnrollmentManager\";\n\nfunction MfaSmsEnrollmentScreen() {\n  const {\n    phoneFromMetadata,\n    handleContinueEnrollment,\n    errors,\n    texts,\n    user,\n  } = useMfaSmsEnrollmentManager();\n\n  // Use email property directly\n  const email = user?.email || \"\";\n\n  const [phone, setPhone] = useState(phoneFromMetadata);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    handleContinueEnrollment(phone);\n  };\n\n  return (\n    <ULThemePageLayout className=\"theme-universal\">\n      <ULThemeCard className=\"w-full max-w-[400px] gap-4\">\n        <h2 className=\"text-xl font-bold mb-2\">\n          {texts?.title || \"MFA Enrollment\"}\n        </h2>\n        <div className=\"mb-2\">\n          <strong>Email:</strong> {email || \"No email available\"}\n        </div>\n        <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\n          <label>\n            Phone Number\n            <input\n              type=\"tel\"\n              value={phone}\n              onChange={e => setPhone(e.target.value)}\n              className=\"input\"\n              required\n            />\n          </label>\n          {Array.isArray(errors) && errors.length > 0 && (\n            <div className=\"text-red-600\">\n              {errors.map((err, idx) => (\n                <div key={idx}>{err.message}</div>\n              ))}\n            </div>\n          )}\n          {!Array.isArray(errors) && errors && (\n            <div className=\"text-red-600\">{errors || String(errors)}</div>\n          )}\n          <button type=\"submit\" className=\"btn btn-primary\">\n            {texts?.continueButton || \"Continue\"}\n          </button>\n        </form>\n        <div className=\"mt-4\">\n          <h3 className=\"font-semibold\">User Object</h3>\n          <pre className=\"bg-gray-100 p-2 rounded text-xs overflow-x-auto\">\n            {user ? JSON.stringify(user, null, 2) : \"No user data\"}\n          </pre>\n        </div>\n      </ULThemeCard>\n    </ULThemePageLayout>\n  );\n}\n\nexport default MfaSmsEnrollmentScreen;"],"names":["useMfaSmsEnrollmentManager","mfaSmsEnrollmentInstance","useMemo","MfaSmsEnrollment","user","transaction","screen","phoneFromMetadata","phone","options","executeSafely","MfaSmsEnrollmentScreen","handleContinueEnrollment","errors","texts","email","setPhone","useState","handleSubmit","e","ULThemePageLayout","jsxs","ULThemeCard","jsx","err","idx"],"mappings":"8HAKO,MAAMA,EAA6B,IAAM,CAC9C,MAAMC,EAA2BC,EAAAA,QAAQ,IAAM,IAAIC,EAAoB,CAAA,CAAE,EACnE,CAAE,KAAAC,EAAM,YAAAC,EAAa,OAAAC,CAAA,EAAWL,EAGhCM,EAAoBH,GAAM,cAAc,OAAS,GAYvD,MAAO,CACL,yBAAAH,EACA,KAAAG,EACA,YAAAC,EACA,OAAAC,EACA,kBAAAC,EACA,yBAhB+B,MAAOC,GAAiC,CACvE,MAAMC,EAAU,CACd,MAAOD,GAAO,QAAU,EAAA,EAE1BE,EACE,2CAA2CD,EAAQ,KAAK,GACxD,IAAMR,EAAyB,mBAAmBQ,CAAO,CAAA,CAE7D,EASE,OAAQR,EAAyB,SAAA,EACjC,MAAQK,GAAQ,OAAS,CAAA,CAAC,CAE9B,EC3BA,SAASK,GAAyB,CAChC,KAAM,CACJ,kBAAAJ,EACA,yBAAAK,EACA,OAAAC,EACA,MAAAC,EACA,KAAAV,CAAA,EACEJ,EAAA,EAGEe,EAAQX,GAAM,OAAS,GAEvB,CAACI,EAAOQ,CAAQ,EAAIC,EAAAA,SAASV,CAAiB,EAE9CW,EAAgBC,GAAuB,CAC3CA,EAAE,eAAA,EACFP,EAAyBJ,CAAK,CAChC,EAEA,aACGY,EAAA,CAAkB,UAAU,kBAC3B,SAAAC,EAAAA,KAACC,EAAA,CAAY,UAAU,6BACrB,SAAA,CAAAC,MAAC,KAAA,CAAG,UAAU,yBACX,SAAAT,GAAO,OAAS,iBACnB,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAE,EAAAA,IAAC,UAAO,SAAA,QAAA,CAAM,EAAS,IAAER,GAAS,oBAAA,EACpC,EACAM,EAAAA,KAAC,OAAA,CAAK,SAAUH,EAAc,UAAU,sBACtC,SAAA,CAAAG,OAAC,QAAA,CAAM,SAAA,CAAA,eAELE,EAAAA,IAAC,QAAA,CACC,KAAK,MACL,MAAOf,EACP,SAAUW,GAAKH,EAASG,EAAE,OAAO,KAAK,EACtC,UAAU,QACV,SAAQ,EAAA,CAAA,CACV,EACF,EACC,MAAM,QAAQN,CAAM,GAAKA,EAAO,OAAS,GACxCU,EAAAA,IAAC,MAAA,CAAI,UAAU,eACZ,WAAO,IAAI,CAACC,EAAKC,IAChBF,EAAAA,IAAC,OAAe,SAAAC,EAAI,OAAA,EAAVC,CAAkB,CAC7B,CAAA,CACH,EAED,CAAC,MAAM,QAAQZ,CAAM,GAAKA,GACzBU,EAAAA,IAAC,MAAA,CAAI,UAAU,eAAgB,SAAAV,GAAU,OAAOA,CAAM,CAAA,CAAE,EAE1DU,EAAAA,IAAC,UAAO,KAAK,SAAS,UAAU,kBAC7B,SAAAT,GAAO,gBAAkB,UAAA,CAC5B,CAAA,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,gBAAgB,SAAA,cAAW,EACzCA,EAAAA,IAAC,MAAA,CAAI,UAAU,kDACZ,SAAAnB,EAAO,KAAK,UAAUA,EAAM,KAAM,CAAC,EAAI,cAAA,CAC1C,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}